Code rewritten on React-hooks
